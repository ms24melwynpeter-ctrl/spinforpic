<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Spin & Reveal</title>
  <style>
    body {
  font-family: Arial, sans-serif;
  text-align: center;
  background: #e9edf5;
  margin: 0;
  padding: 0;
}

h1 {
  margin-top: 20px;
  font-size: clamp(20px, 6vw, 32px);
}

.arrow {
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 25px solid red; /* pointing down */
  margin: 0 auto;
}

.wheel-container {
  position: relative;
  margin: 20px auto;
  width: min(80vw, 320px);
  height: min(80vw, 320px);
  border-radius: 50%;
  border: 6px solid #333;
  overflow: hidden;
}

.wheel {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
  position: relative;
}

.label {
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: center left;
  font-size: clamp(10px, 3vw, 14px);
  font-weight: bold;
  color: #fff;
  text-shadow: 1px 1px 3px black;
}

button {
  padding: 12px 24px;
  font-size: clamp(14px, 5vw, 18px);
  margin-top: 20px;
  cursor: pointer;
  border: none;
  background: #007bff;
  color: white;
  border-radius: 8px;
}

img {
  margin-top: 20px;
  max-width: 80vw;
  max-height: 60vh;
  object-fit: cover;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

/* Extra tweak for very small screens */
@media (max-width: 400px) {
  .arrow {
    border-left: 12px solid transparent;
    border-right: 12px solid transparent;
    border-top: 20px solid red;
  }
}

  </style>
</head>
<body>

  <h1>ðŸŽ¡ Spin & Reveal</h1>
  <div class="arrow"></div>
  <div class="wheel-container">
    <div id="wheel" class="wheel"></div>
  </div>
  <button onclick="spin()">Spin the Wheel</button>
  
  <div id="result"></div>

  <script>
    const players = [
      { name: "Dev Sir", image: "devsir.jpg", color: "#e74c3c" },
      { name: "Shalu", image: "Shalu.jpg", color: "#3498db" },
      { name: "Viashnavi", image: "vaishnavi.jpg", color: "#2ecc71" },
      { name: "Vishakha", image: "vishakha.jpg", color: "#f1c40f" },
      { name: "Kirti", image: "kirti.jpg", color: "#9b59b6" },
    ];

    const wheel = document.getElementById("wheel");
    const angle = 360 / players.length;

    // Build wheel colors
    let gradientParts = [];
    players.forEach((p, i) => {
      gradientParts.push(`${p.color} ${i*angle}deg ${(i+1)*angle}deg`);
    });
    wheel.style.background = `conic-gradient(${gradientParts.join(",")})`;

    // Add labels evenly spaced along edge
    players.forEach((p, i) => {
      const label = document.createElement("div");
      label.className = "label";
      label.innerText = p.name;

      // rotate out to edge, then counter-rotate text so it stays upright
      const rotation = i * angle + angle / 2;
      label.style.transform = `rotate(${rotation}deg) translateX(140px) rotate(-${rotation}deg)`;
      wheel.appendChild(label);
    });

    let currentRotation = 0;

    function spin() {
      const randomIndex = Math.floor(Math.random() * players.length);
      const extraSpins = 5;
      const stopAngle = 360 - (randomIndex * angle + angle/2);

      const rotation = extraSpins * 360 + stopAngle;
      currentRotation += rotation;

      wheel.style.transform = `rotate(${currentRotation}deg)`;

      setTimeout(() => {
        const chosen = players[randomIndex];
        document.getElementById("result").innerHTML = `
          <h2>${chosen.name}!</h2>
          <img src="${chosen.image}" alt="${chosen.name}">
        `;
      }, 4000);
    }
  </script>

</body>
</html>

